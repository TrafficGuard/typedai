#!/bin/bash

# Generate a file tree with summaries
# Usage: file-tree                              Show full tree with file summaries
#        file-tree "Find authentication files"  Collapse irrelevant folders

if [ -z "$TYPEDAI_HOME" ]; then
  echo "Error: TYPEDAI_HOME is not set."
  exit 1
fi

CWD=$(pwd)

# Run the file-tree npm script with all arguments and the filesystem arg
(
  cd "$TYPEDAI_HOME"
  LOG_LEVEL=fatal npm run file-tree -- --fs="${CWD}" "$@"
)
