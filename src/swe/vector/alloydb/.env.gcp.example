# AlloyDB GCP Production Configuration
# For use with fully managed AlloyDB on Google Cloud Platform

# === AlloyDB Instance ===
# Format: projects/{PROJECT}/locations/{REGION}/clusters/{CLUSTER}/instances/{INSTANCE}
ALLOYDB_INSTANCE=projects/placeholder-project-id/locations/us-central1/clusters/alloydb-trial/instances/alloydb-trial-instance

# Database name
ALLOYDB_DATABASE=vector_db

# === Authentication ===
# Option 1: IAM authentication (recommended for production)
# Requires AlloyDB Auth Proxy or proper IAM permissions
# Leave user/password empty to use IAM authentication

# Option 2: Database authentication
ALLOYDB_USER=postgres
ALLOYDB_PASSWORD=your-secure-password

# === Connection Method ===
# Option 1: Direct connection (requires Private Service Connect or VPN)
# ALLOYDB_HOST=10.x.x.x  # Private IP of AlloyDB instance
# ALLOYDB_PORT=5432

# Option 2: AlloyDB Auth Proxy (recommended)
# Run: ./cloud_sql_proxy projects/my-project-id/locations/us-central1/clusters/alloydb-trial/instances/alloydb-trial-instance
# Then connect to localhost
ALLOYDB_HOST=localhost
ALLOYDB_PORT=5432

# === Vector Search Settings ===
# Embedding model for automated embeddings (preview feature)
ALLOYDB_EMBEDDING_MODEL=gemini-embedding-001

# Enable columnar engine for better filtered vector search
ALLOYDB_ENABLE_COLUMNAR_ENGINE=true

# Hybrid search vector weight (0-1, text weight = 1 - vector_weight)
ALLOYDB_VECTOR_WEIGHT=0.7

# === Google Cloud Settings ===
# Required for Vertex AI features (reranking, manual embeddings if auto-embedding unavailable)
GCLOUD_PROJECT=placeholder-project-id
GCLOUD_REGION=us-central1

# === Vector Search Configuration ===
VECTOR_CONTEXTUAL_CHUNKING=true
VECTOR_DUAL_EMBEDDING=false
VECTOR_HYBRID_SEARCH=true
VECTOR_RERANKING=true  # Use Google Vertex AI Rank Service
VECTOR_CHUNK_SIZE=2500
VECTOR_CHUNK_OVERLAP=300
