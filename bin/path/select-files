#!/bin/bash

# Standalone CLI command to select files from a codebase for a given task
# Usage: select-files "Find authentication implementation files"
#        select-files --initial-files=src/auth.ts "Find related config"

if [ -z "$TYPEDAI_HOME" ]; then
  echo "Error: TYPEDAI_HOME is not set."
  exit 1
fi

CWD=$(pwd)

# Run the select-files npm script with all arguments and the filesystem arg
(
  cd "$TYPEDAI_HOME"
  npm run select-files -- --fs="${CWD}" "$@"
)
